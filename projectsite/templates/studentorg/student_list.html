{% extends "base.html" %}

{% block title %}Students | PSUSphere{% endblock %}

{% block content %}
<div class="page-inner">
  <div class="card">
    <div class="card-header"><div class="card-title">Students</div></div>
    <div class="card-body">
      <form method="get" class="form-inline mb-3">
        <input class="form-control mr-2" type="text" name="q" value="{{ q }}" placeholder="Search students..." />
        <button class="btn btn-primary" type="submit">Search</button>
      </form>

      {% if page_obj.object_list %}
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>Student ID</th>
              <th>Name</th>
              <th>Program</th>
              <th>College</th>
            </tr>
          </thead>
          <tbody>
            {% for item in page_obj.object_list %}
            <tr>
              <td>{{ item.student_id }}</td>
              <td>{{ item.lastname }}, {{ item.firstname }}{% if item.middlename %} {{ item.middlename }}{% endif %}</td>
              <td>{{ item.program }}</td>
              <td>{{ item.program.college }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% include "includes/pagination.html" %}
      {% else %}
      <p class="text-muted mb-0">No students found.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
