{% extends "base.html" %}

{% block title %}Org Members | PSUSphere{% endblock %}

{% block content %}
<div class="page-inner">
  <div class="card">
    <div class="card-header"><div class="card-title">Organization Members</div></div>
    <div class="card-body">
      <form method="get" class="form-inline mb-3">
        <input class="form-control mr-2" type="text" name="q" value="{{ q }}" placeholder="Search by student or organization..." />
        <button class="btn btn-primary" type="submit">Search</button>
      </form>

      {% if page_obj.object_list %}
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>Student</th>
              <th>Program</th>
              <th>Organization</th>
              <th>Date Joined</th>
            </tr>
          </thead>
          <tbody>
            {% for item in page_obj.object_list %}
            <tr>
              <td>{{ item.student }}</td>
              <td>{{ item.student.program }}</td>
              <td>{{ item.organization }}</td>
              <td>{{ item.date_joined|date:"Y-m-d" }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% include "includes/pagination.html" %}
      {% else %}
      <p class="text-muted mb-0">No organization members found.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
