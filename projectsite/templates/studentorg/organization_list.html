{% extends "base.html" %}

{% block title %}Organizations | PSUSphere{% endblock %}

{% block content %}
<div class="page-inner">
  <div class="card">
    <div class="card-header"><div class="card-title">Organizations</div></div>
    <div class="card-body">
      <form method="get" class="form-inline mb-3">
        <input class="form-control mr-2" type="text" name="q" value="{{ q }}" placeholder="Search organizations..." />
        <button class="btn btn-primary" type="submit">Search</button>
      </form>

      {% if page_obj.object_list %}
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>Name</th>
              <th>College</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            {% for item in page_obj.object_list %}
            <tr>
              <td>{{ item.name }}</td>
              <td>{{ item.college|default:"-" }}</td>
              <td>{{ item.description|truncatechars:110 }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% include "includes/pagination.html" %}
      {% else %}
      <p class="text-muted mb-0">No organizations found.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
